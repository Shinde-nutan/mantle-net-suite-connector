<?xml version="1.0" encoding="UTF-8"?>
<entity-facade-xml type="ext-upgrade">
    <moqui.service.message.SystemMessageType systemMessageTypeId="FulfilledOrderItemsFeedNetsuiteToHotwax"
        description="Fetch Fulfilled Order Items feed Netsuite to Hotwax"
        parentTypeId="LocalFeedFile"
        receiveResponseEnumId="MsgRrMove"
        sendPath="${contentRoot}/Netsuite/FulfilledOrderItems"
        receivePath="/home/${sftpUsername}/netsuite/salesorder/import/fulfillment-nifi"
        receiveMovePath="/home/${sftpUsername}/netsuite/salesorder/import/fulfillment-nifi/archive"
        consumeServiceName="co.hotwax.netsuite.OrderServices.consume#FulfilledOrderItemFeed">
        <parameters parameterName="sendSmrId" parameterValue="RemoteSftp" systemMessageRemoteId=""/>
        </moqui.service.message.SystemMessageType>

        <moqui.service.message.SystemMessageType systemMessageTypeId="SendFulfilledOrderItemsFeed"
        description="Send Fulfilled Order Items feed Netsuite to Hotwax"
        parentTypeId="LocalFeedFile"
        receivePath="${contentRoot}/Netsuite/Fulfillment/fulfilledOrderItemFeed-${dateTime}.json"
        sendPath="/home/${sftpUsername}/netsuite/salesorder/import/fulfillment/FulfilledOrderItemsFeed-${systemMessageId}-${dateTime}.json"
        sendServiceName="co.hotwax.ofbiz.SystemMessageServices.send#SystemMessageFileSftp"/>

        <!-- Enumeration to create relation between FulfilledOrderItemsFeedNetsuiteToHotwax and SendFulfilledOrderItemsFeed SystemMessageType(s) -->
        <moqui.basic.EnumerationType description="Netsuite System message Type" enumTypeId="NetsuiteMessageTypeEnum"/>
        <moqui.basic.Enumeration description="Send fulfilledOrderItem Feed" enumId="SendFulfilledOrderItemsFeed" enumTypeId="NetsuiteMessageTypeEnum"/>
        <moqui.basic.Enumeration description="Product Updates Feed" enumId="FulfilledOrderItemsFeedNetsuiteToHotwax" enumTypeId="ShopifyMessageTypeEnum" relatedEnumId="SendFulfilledOrderItemsFeed" relatedEnumTypeId="NetsuiteMessageTypeEnum"/>

        <!-- Template service job to generate Fulfilled Order Items Feed for transfer orders -->
        <moqui.service.job.ServiceJob jobName="generate_TransferOrderFulfilledItemsFeed"
            description="Template Service Job to generate the Transfer Orders Fulfilled Items Feed from HotWax"
            serviceName="co.hotwax.netsuite.FulfillmentServices.generate#TransferOrderFulfilledItemsFeed"
            cronExpression="0 0 0 * * ?" paused="Y">
        <parameters parameterName="orderId"/>
        <parameters parameterName="orderItemSeqId"/>
        <parameters parameterName="orderStatusId"/>
        <parameters parameterName="orderTypeId"/>
        <parameters parameterName="productStoreIds"/>
        <parameters parameterName="systemMessageTypeId"/>
        <parameters parameterName="systemMessageRemoteId"/>
        <parameters parameterName="parentFacilityTypeIds"/>
    </moqui.service.job.ServiceJob>

    <!-- System Message Type for Fulfilled Order Items Feed for Transfer Order -->
    <moqui.service.message.SystemMessageType systemMessageTypeId="TransferOrderFulfilledItemsFeed"
        description="Generate HotWax Fulfilled Order Items Feed for Transfer Orders"
        parentTypeId="LocalFeedFile"
        sendPath="/home/${sftpUsername}/netsuite/transferorderV2/oms-fulfillment/TransferOrderFulfilledItemsFeed-${systemMessageId}-${dateTime}.json"
        sendServiceName="co.hotwax.ofbiz.SystemMessageServices.send#SystemMessageFileSftp"
        receivePath="${contentRoot}/netsuite/transferorder/TransferOrderFulfilledItemsFeed/TransferOrderFulfilledItemsFeed-${dateTime}.json"/>


</entity-facade-xml>