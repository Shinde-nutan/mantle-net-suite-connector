<?xml version="1.0" encoding="UTF-8"?>
<entity-facade-xml type="ext-upgrade">
    <moqui.service.job.ServiceJob jobName="poll_SystemMessageFileSftp_TransferOrder" description="Poll Transfer Order Feed from SFTP location"
        serviceName="co.hotwax.ofbiz.SystemMessageServices.poll#SystemMessageFileSftp" cronExpression="0 0 * * * ?" paused="Y">
        <parameters parameterName="systemMessageTypeId" parameterValue="ImportTransferOrder"/>
        <parameters parameterName="systemMessageRemoteId" parameterValue="RemoteSftp"/>
    </moqui.service.job.ServiceJob>

    <moqui.service.message.SystemMessageType systemMessageTypeId="ImportTransferOrderFeed"
        description="Import Transfer Orders Feed file from SFTP location"
        parentTypeId="LocalFeedFile"
        consumeServiceName="co.hotwax.system.FeedServices.consume#NetSuiteFeed"
        receivePath="/home/${sftpUsername}/netsuite/transferorderv2/export"
        receiveResponseEnumId="MsgRrMove"
        receiveMovePath="/home/${sftpUsername}/netsuite/transferorderv2/export/archive"
        sendPath="${contentRoot}/netsuite/transferOrder">
    </moqui.service.message.SystemMessageType>

    <moqui.service.message.SystemMessageType systemMessageTypeId="NetsuiteTransferOrderFeed"
            description="Generate mapped Feed file of Transfer Order from NetSuite connector to OMS"
            parentTypeId="LocalFeedFile"
            sendPath="${contentRoot}/netsuite/transferOrder/omsTransferOrderFeed/TransferOrder-${dateTime}-${systemMessageId}.json"
            consumeServiceName="co.hotwax.system.FeedServices.generate#OMSFeed"
            sendServiceName="co.hotwax.netsuite.OrderServices.map#TransferOrder">
    </moqui.service.message.SystemMessageType>

    <moqui.service.message.SystemMessageType systemMessageTypeId="OMSTransferOrder"
         description="Create Transfer Order in OMS"
         parentTypeId="LocalFeedFile"
         consumeServiceName="co.hotwax.orderledger.system.FeedServices.consume#OMSFeed"
         sendServiceName="co.hotwax.oms.order.TransferOrderServcies.create#TransferOrder"
         sendPath="${contentRoot}/oms/transferOrder">
    </moqui.service.message.SystemMessageType>

    <moqui.basic.Enumeration description="Create Transfer Order in OMS" enumId="OMSTransferOrder" enumTypeId="OMSMessageTypeEnum"/>
    <moqui.basic.Enumeration description="Generate mapped Feed file of Transfer Order from NetSuite connector to OMS" enumId="NetsuiteTransferOrderFeed" enumTypeId="NetsuiteMessageTypeEnum" relatedEnumId="CreateTransferOrder" relatedEnumTypeId="OMSMessageTypeEnum"/>
    <moqui.basic.Enumeration description="Import Transfer Order" enumId="ImportTransferOrderFeed" enumTypeId="NetsuiteMessageTypeEnum" relatedEnumId="NetsuiteTransferOrderFeed" relatedEnumTypeId="NetsuiteMessageTypeEnum"/>
</entity-facade-xml>